---
title: nginx直接返回ip
published: 2025-12-09
description: nginx直接返回ip
image: api
tags: [nginx]
category: nginx
draft: false
---
<!--markdown-->## nginx配置
```
      location / {
        add_header Content-Type "text/plain; charset=utf-8";
        # 直接返回客户端IP
        access_log off;
        # 使用 echo 模块（如果安装了）
        echo $remote_addr;
        
    }
```
然后浏览器或者py、go都可以直接请求返回ip
示例代码：curl ip.bgspider.com
## 使用cdn+nginx
```
location / {
        return 200 "$http_x_forwarded_for";
        add_header Content-Type text/plain;
    }
```